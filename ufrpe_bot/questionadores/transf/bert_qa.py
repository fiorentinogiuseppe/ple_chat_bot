import numpy as np

from ufrpe_bot import Perguntar
from ufrpe_bot.servicos import bertQA
from ufrpe_bot.utils.utils import similaridade_contexto, uniqueid

contexto = 'O primeiro PLE (2020.3) iniciará no dia 17 de agosto. Confira o Calendário Acadêmico com todas as datas . Os emails da UFRPE estão sendo migrados para o Google. Com isso, o professor poderá usar ferramentas como o Google Meet, Google Classroom e o Google Drive com sua conta institucional. Assim, os encontros síncronos realizados como o Google Meet podem ser gravados e armazenados no Google Drive, sendo disponibilizados posteriormente em canais como o YouTube ou no Google Classroom. Também temos a plataforma RNP.. Sim. Contudo, recomenda-se que se dê preferência para as atividades assíncronas. No caso da realização de atividades síncronas, deve-se disponibilizar uma atividade equivalente de forma assíncrona. Por exemplo, uma encontro síncrono pode ser gravado e o vídeo pode ser disponibilizado para os estudantes que não puderam comparecer ao encontro síncrono.. Recomenda-se o uso do AVA e do SIGAA, mas outras plataformas como o Google Classroom também podem ser usadas. Caso o professor tenha aulas gravadas, ele poderá disponibilizá-las nestas plataformas. Caso sejam realizados encontros síncronos, estes encontros poderão ser gravados pelo professor e disponibilizados posteriormente, na plataforma adotada.. Pode haver simulação de práticas, mas o professor responsável deve avaliar se essa adequação é possível, sem prejuízo na formação dos nossos estudantes. As aulas práticas dependem da possibilidade legal e técnica para serem realizadas. Por exemplo, muitas aulas práticas na área de computação podem continuar sendo realizadas normalmente.. Não é recomendado. Deve-se observar as normas e leis vigentes durante o PLE.. Não. O encontro síncrono pode acontecer, mas a avaliação deve-se dar por outros meios.. Sugerimos que as atividades das unidades curriculares sejam assíncronas. Caso o professor realize alguma atividade síncrona, ele deverá disponibilizar uma atividade equivalente de forma assíncrona. No caso das atividades síncronas, estas deverão ser realizadas no horário em que a disciplina foi registrada no SIGA/SIGAA.. Todos/as docentesativos/as da UFRPE.. Através de aulas remotas, que podem ser com atividades síncronas ou assíncronas. Serão utilizadas preferencialmente as plataformas virtuais oficiais da UFRPE (AVA, SIGAA), podendo ser utilizadas outras plataformas como google meet, zoom, entre outras.. Todos os estudantes com vínculo ativo (matriculado, matrícula vínculo ou trancado) da UFRPE.. Recomenda-se que seja realizado um processo de avaliação continuada nas disciplinas ofertadas durante o PLE, com atividades avaliativas sendo propostas ao longo das unidades curriculares e não apenas com a realização de uma única prova em uma semana específica. É necessário, ainda, uma flexibilização nos prazos de entrega das atividades propostas, levando sempre em consideração o tempo necessário para realização das mesmas como parte da carga horária (CH) das unidades curriculares. Dessa forma, entendemos que não seria indicado determinar uma semana específica para a realização das atividades avaliativas no calendário acadêmico.. Os ingressantes de 2020.1 poderão cursar unidades curriculares no PLE, como os demais discentes da UFRPE. A matrícula será executada pelos próprios discentes no período indicado no calendário acadêmico do PLE. Os ingressantes de 2020.2 poderão cursar até duas unidades curriculares no PLE como alunos especiais. A solicitação de matrícula nas unidades curriculares de interesse dos ingressantes 2020.2 deverá ser enviada ao DRCA através de formulário disponível na página do DRCA (. O limite foi determinado com base no PPC do curso e na alta demanda dos alunos. Um limite maior que o do PPC poderia sobrecarregar os professores. Já um limite inferior poderia prejudicar os alunos deixando muitos sem vagas nas disciplinas.. O/a estudante terá a possibilidade de cancelar a matrícula nas unidades curriculares conforme data limite para cancelamento sem ônus, prevista no Calendário Acadêmico.. Sim. As unidades curriculares cursadas no PLE serão aproveitadas automaticamente no retorno às aulas presenciais, referente ao semestre 2020.1. Para estudantes em situação de acompanhamento ou desligamento, a reprovação em disciplinas cursadas no Período Letivo Excepcional (PLE) não será contabilizada.. Não.. Não. O semestre 2020.1 foi suspenso pela UFRPE devido à pandemia do novo coronavírus, a fim de contribuir com o isolamento social e as medidas de restrição ao controle da COVID-19. Seu retorno fica dependente das condições sanitárias informadas pelos órgãos competentes, bem como as normatizações no âmbito do Ministério da Educação e da UFRPE.. Haverá ampla divulgação pelas coordenações e pela PREG. Além disso, no próprio SIGA/SIGAA serão apresentadas as disciplinas ofertadas.. Outras atividades podem substituir, como a elaboração de relatórios ou projetos. Quanto à apresentação síncrona, esta pode ser substituída, por exemplo, por vídeo gravado pelo estudante. Já uma arguição oral, por exemplo, pode ser substituída pelo envio de áudio através de ferramentas de mensagem.. As atividades síncronas ocorrerão de acordo com os turnos dos cursos, no horário em que a disciplina tenha sido registrada no SIGA/SIGAA.. Na teoria, seriam 4,5 horas por semana, entretanto o professor é quem irá demandar a quantidade de horas para que o estudante compreenda e cumpra os conteúdos. Teremos aulas assíncronas e síncronas. Aulas disponibilizadas preparadas com uso de tecnologias, sendo contabilizadas de fato por horas usadas em tarefas disponibilizadas e cumpridas.. No plano de ensino que o professor enviou para a aprovação do CCD do curso. Caso a coordenação ainda não tenha disponibilizado, solicite esse plano, onde constarão informações como a forma de avaliação, plataformas adotadas, conteúdo e bibliografia .. A oferta de disciplinas é planejada pela departamentos/docentes/coordenação priorizando os períodos do(s) currículo(s) vigente(s) no objetivo de possibilitar a integralização curricular dos estudantes.. Isso dependerá da comissão que organiza o exame de proficiência.. Foi pedido aos D.A.s dos cursos que fizessem uma lista de unidades curriculares que os estudantes gostariam de serem ofertadas para que pudéssemos negociar e conciliar o máximo possível as unidades ofertadas pelos professores e a demanda dos estudantes... Os(as) docentes, para atender a esses(as) discentes, podem utilizar estratégias como: Adaptações de material em formato digital para formato digital acessível;Descrição de imagens estáticas;Orientação para docentes e discentes;·Colaboração com demais setores da Universidade; Vídeos legendados e descritos; Em caso de utilização de Ambiente Virtual de Aprendizagem (AVA), presença de vídeo introdutório em Libras;·Navegação através de animações/vídeos em Libras;·Utilização de textos curtos;·Uso de softwares com avatares para tradução, como o Rybená, Hand Talk; Inserção de legenda com fontes contrastantes em tamanho legível;·Investir no uso de imagens para facilitar a compreensão do(a) estudante surdo(a) na compreensão do que poderia ser falado (associação de fotos apalavras).. Devido à pandemia, os/as professores/as também podem estar enfrentando problemas que os/as impeçam de ofertar disciplinas no PLE. No caso de dificuldades para a oferta remota de disciplinas, a UFRPE está qualificando esses/essas docentes através de programas de formação.. Serão oferecidas unidades curriculares com aulas síncronas de forma semelhante ao horário presencial, com dias e horas marcadas.. Será observada a utilização de legendas, aplicativos de transcrição instantânea, bem como a participação do(a) tradutor(a) intérprete da Libras.. Todas as disciplinas terão seu plano de ensino analisado pelo CCD do curso. Ela poderá ser ofertada caso este julgue não haverá prejuízo para o aprendizado dos alunos. Nos casos de disciplinas que não puderam ser adaptadas para o formato remoto, neste primeiro momento, serão estudadas alternativas para um possível oferta futura nesse formato.. Os materiais pedagógicos que necessitarem ser adaptados para os estudantes com deficiência visual (baixa visão ou cegueira) deverão ser encaminhados com antecedência pelos professores para o Laboratório de Acessibilidade da UFRPE.. Você pode entrar em contato por e-mail através dos endereços eletrônicos:. Os discentes terão acesso ao acompanhamento pedagógico por meio de reuniões virtuais com orientações de estudos e levantamento das necessidades específicas de cada discente, para construção de estratégias pedagógicas e encaminhamentos, para professores, de possíveis adaptações a serem realizadas para o atendimento. Será analisadaa possibilidade da oferta do ESO pela coordenação, NDE e CCD do curso,que vão avaliar caso a caso.. Sim. Pode participar de ACC durante todo os períodos do curso.. Sim. Apesar de ser extraordinário todos os pré requisitos presentes no componente curricular estão valendo, como um semestre normal.. A nota de aprovação não foi alterada.. Nesse caso, é necessário realizar a Equiparação.. Sim, poderá a apresentação poderá ser síncrona ou assíncrona, a depender da banca avaliadora. Essa possibilidade está prevista no PLE. Entre em contato com sua coordenação para combinar a forma de sua defesa.. Sim, desde que as respectivas cargas horárias não tenham sido computadas no registro de Atividades Curriculares Complementares e que seja previsto no PPC do curso. Sim.. Sim, desde que atenda os pré-requisitos da equiparação.. A equiparação funcionará de acordo com as regras constantes no PPC de cada curso e em acordo com a resolução 425/2010 CEPE/UFRPE. A equiparação de estágio pode ser feita, se prevista no PPC do curso. Caso não seja prevista, o CCD e NDE do curso podem de forma ágil possibilitar a equiparação, já para o PLE.. Qualquer estudante desde que o curso preveja a equiparação do ESO em seu PPC e o/a discente atenda os pré-requisitos do ESO.. Não. A atividade poderá ser utilizada uma única vez.. A equiparação é um mecanismo legal. Porém, segundo a lei de estágio ela deve constar no PPC do curso. No PLE os cursos farão um projeto para anexar ao PPC. Procure sua coordenação e fale sobre seu caso específico. Se a atividade for compatível com o ESO, a coordenação poderá aceitar a equiparação.. Apenas as atividades de estágio não obrigatório, extensão, e monitorias e iniciação científica na educação superior, desenvolvidas pelo estudante, poderão ser equiparadas ao estágio em caso de previsão no PPC- projeto pedagógico do curso.. Sim. O ESO remoto depende do PPC do curso e de suas possibilidades. Para mais informações procure a coordenação do seu curso e siga a orientação do seu professor orientador.. Os estudantes concluintes, cumprido 80% de integralização do curso, poderão solicitar a Equivalência Excepcional de atividades pedagógicas, vivências acadêmicas e vivências profissionais para unidades curriculares de um ou mais unidades curriculares, não ultrapassando 375 horas.. O estudante pode solicitar equivalência de 375 horas por meio de análise de atividades pedagógicas e avaliação por banca examinadora específica. Ele precisa de uma nota mínima de 5,0 para sua aprovação.. Sim.. Não. Não entra no cômputo para solicitação permitida aos concluintes de Equivalência Excepcional de atividades pedagógicas, para unidades curriculares.. A solicitação da equivalência excepcional para o concluinte só pode ocorrer se o estudante tiver integralizado 80% da carga horária do curso e unidades curriculares pendentes em no máximo 375 horas em unidades curriculares. Além desta carga horária poderá se matricular paralelamente em Educação Física A, na monografia, ESO e/ou Trabalho de Conclusão de Curso e apresentar Atividades Curriculares Complementares.. Os ingressantes de 2020.1 terão reservas de vagas definidas pela coordenação de cada curso, considerando as solicitações de matrícula para as disciplinas do primeiro período.. Para matrícula no PLE o limite máximo é 240 horas, quatro cadeiras de 60 horas ou em outros arranjos de carga horária de forma que o somatório resulte em 240 horas.. Será aberto um novo processo de matrícula específico para o PLE, as matrículas serão processadas pelos estudantes, on-line pelo Sistema SIGA ou SIGAA, e com data definida no calendário.. O PLE tem curta duração, 10 semanas. Assim, um limite mais alto que o definido não caberia neste período. Por outro lado, um limite inferior poderia prejudicar os estudantes, especialmente os concluintes.. A oferta de unidade curricular é opcional, assim dependerá dos professores. Teremos nova publicação indicando as unidades curriculares ofertadas para este período excepcional.. Não. ESO, TCC e Monografia estão fora do cômputo.. Sim. Será necessário ter cumprido os pré-requisitos exigidos.. Disciplinas optativas terão limite mínimo de 5 (cinco) estudantes por turma.. Sim. Após início do semestre 2020.1 solicitará modificação junto à coordenação, tendo em vista o período excepcional.. Não. A matrícula de 2020.1 está apenas suspensa, e quando retomarmos as atividades presenciais ela será reativada.. Os estudantes acompanhados e desligáveis terão suas matrículas processadas pelos coordenadores, ou administrativa processadas pelo DRCA. Quanto ao apoio pedagógico, a COAA e a coordenação continuarão atuando durante o PLE. Caso o estudante sinta necessidade, pode solicitar um apoio extra à coordenação do curso.. Sim. Mas alertamos para o fato de que os critérios de confirmação de matrícula serão os mesmos aplicados nos semestres 1 e 2.. Sim. Após início do semestre 2020.1, solicitará o cancelamento.. Não. Terá acesso sendo unidade optativa para seu curso. A coordenação definirá o número de vagas para o curso. A preferência é para os estudantes que no currículo do seu curso conste a unidade curricular como obrigatória.. Poderá se matricular em unidades curriculares obrigatórias ou optativas do seu curso, que tenham sido ofertadas pelos professores no PLE. Contudo, componentes eletivas não serão oferecidos. Eletivas não contam carga horária para o currículo;para que isso ocorra deve constar no PPC do curso.. Não. Os estudantes só poderão efetuar matrícula nas unidades curriculares ofertadas na Unidade Acadêmica em que estão matriculados.. Para preservar os estudantes. Diante da pandemia, eles podem estar sem condições de assumir compromissos acadêmicos.. Não. A oferta de disciplinas isoladas para o estudante externo, não está prevista em calendário.. Os estudantes deverão realizar a sua matrícula normalmente no semestre 2020.3, utilizando o SIGA/SIGAA.. Sim. Para alterações nas matrículas, essas serão solicitadas administrativamente, junto à Coordenação Geral dos Cursos.. Sim. Estudantes com situação trancado, matriculado ou matrícula vínculo poderão efetivar matrícula no PLE.. Sim. Os/as estudantes em Regime Especial de Movimentação Temporária-REMT poderão se matricular, contudo, esta matrícula será realizada administrativamente, solicitada à Coordenação Geral dos Cursos.. Após a aprovação do PLE serão divulgadas amplamente as unidades curriculares ofertadas e o calendário acadêmico. A matrícula será on-line. A proposta está prevista para agosto de 2020.. Sim. Os/as estudantes já podem acessar o sistema e fazer o primeiro acesso, inclusive participar do PLE.. As Unidades Curriculares que resultem em rendimento poderão ser usadas com aproveitamento acadêmico para o curso no qual ingressará.Quando da análise para escolha do estudante laureado na colação de grau do curso, o aproveitamento das unidades curriculares não implicará no mérito acadêmico.. Sim. Na forma de Aluno Especial dependendo da existência de ofertas e vagas.. Não. Na forma AlunoEspecial caracteriza outro vínculo, sem ligação com o vínculo no curso de ingresso.. A solicitação de matrícula em unidades curriculares ofertadas no PLE, para ingressantes 2020.2, será através de formulário on-line, por curso, publicado na página da UFRPE.. Sim. Considerando constarem como aprovados em curso superior, poderão optar por participar do PLE na forma de Aluno Especial, cursando no máximo duas unidades curriculares.. A confirmação de vínculo para os ingressantes 2020.2 dependerá de novo cronograma de ações, que irá alterar o Edital 05/2020.. Os/as professores/as têm autonomia nas VAs, mas todas as Verificações de Aprendizagem estão sugeridas que no PLE sejam aplicadas remotamente, assíncrona ou síncrona.. Para todos os/as estudantes aprovados para o semestre 2020.2, as aulas iniciarão após o término de 2020.1. Porém é possível cursar duas unidades curriculares no PLE na forma de Aluno Especial. Ficará a cargo de cada professor/a. Serão realizados vários cursos para a capacitação de professores/as e entre eles contará um curso sobre formas de avaliações. Seguirá a legislação. Resolução de regime de aprovação.. Não. A disciplina pode ser montada a partir de material que passou pela curadoria do professor com o conteúdo da disciplina. Esse material pode incluir vídeos, apresentações, textos etc. Contudo, todo o material deve estar disponível gratuitamente para os estudantes.. Teremos a monitoria remota. Também contamos com orientação pedagógica.. As 6 horas de trabalho semanal não serão exclusivas para videoaulas e representam o total de atividades de diversas naturezas que o professor irá propor semanalmente, visando ao cumprimento de seu Plano de Ensino. Haverá uma adaptação da forma como o conteúdo será proposto e avaliado, sem haver, contudo, alteração na carga horária da unidade curricular.. Sim.. A carga horária das unidades curriculares será contabilizada a partir das atividades semanais passadas pelo professor. Assim, uma unidade curricular de 60h deverá ter 6h semanais em atividades, incluindo as atividades síncronas e assíncronas. Deve-se contabilizar nesta carga horária tanto o tempo em que o professor está atuando com os estudantes, quanto o tempo que os estudantes levarão para finalizar as atividades.. A substituição é possível através de outras atividades, tais como a elaboração de relatórios ou projetos. Quanto à apresentação síncrona, esta pode ser substituída, por exemplo, por vídeo gravado pelo estudante. Já uma arguição oral, por exemplo, pode ser substituída pelo envio de áudio através de ferramentas de mensagem.'

class BertQA(Perguntar):  # noqa

    model = bertQA.QuestionAnswering.Instance().__str__()

    def model_data(self, q):
        unique_sequence = uniqueid()
        #contexto = similaridade_contexto(q)
        return contexto, {
            "context": contexto,
            'qas': [{
                'id': str(next(unique_sequence)),
                'is_impossible': True,
                'question': q,
                'answers': [{
                    'text': '',
                    'answer_start': 0
                }]
            }]
        }

    def verificar(self, pergunta: str) -> str:
        contexto, dic = self.model_data(pergunta)
        print(contexto, dic)
        to_predict = np.asarray([dic])
        print('predicting')
        predict = self.model.predict(to_predict)
        prob = predict[1][0]['probability'][0]
        resp = predict[0][0]['answer'][0]
        print(f'prob: {prob} {predict}')
        if prob < 0.8 or not resp:
            return "Desculpe, mas não entendi muito bem. Contudo encontramos um paragrafo que pode tirar sua dúvida." \
                   "\n{}".format(similaridade_contexto(pergunta))
        else:
            return resp

